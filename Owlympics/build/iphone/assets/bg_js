function distance(e,t,a,i){var r=Math.PI*e/180,n=Math.PI*a/180,o=(Math.PI*t/180,Math.PI*i/180,t-i),l=Math.PI*o/180,c=Math.sin(r)*Math.sin(n)+Math.cos(r)*Math.cos(n)*Math.cos(l);return c=Math.acos(c),c=180*c/Math.PI,c=60*c*1.1515,c=1.609344*c*1e3}function checkFeed(){Ti.API.info("hi, I m alive")}var MapModule=require("ti.map"),centerRadius=80,pointlat=new Array,pointlong=new Array,accur=new Array,count=0,notification,coords=Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,"coords.txt"),enterfile=Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,"enterflag.txt"),stayfile=Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,"stayflag.txt"),stampfile=Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,"stamp.txt"),points=new Array;for(i=0;i<coords.read().text.split(",").length;i++)points[i]=parseFloat(coords.read().text.split(",")[i]);var centerRadius=80;Ti.Geolocation.purpose="Smart Reminders";var hour,min,enterflag=new Array,stayflag=new Array,stamp=new Array,dist=new Array;Ti.Geolocation.locationServicesEnabled?(Ti.Geolocation.accuracy=Ti.Geolocation.ACCURACY_HUNDRED_METERS,Ti.Geolocation.distanceFilter=5,Ti.Geolocation.preferredProvider=Ti.Geolocation.PROVIDER_PROVIDER_NETWORK,Ti.Geolocation.addEventListener("location",function(e){if(e.error);else{for(i=0;i<enterfile.read().length-1;i++)if(dist[i]=distance(e.coords.latitude,e.coords.longitude,points[2*i],points[2*i+1]),dist[i]<centerRadius){Ti.App.iOS.scheduleLocalNotification({alertBody:"Report your activities?",alertAction:"Re-Launch!",userInfo:{hello:"world"},sound:"pop.caf",date:new Date((new Date).getTime()),hasAction:!0})}pointlat[count]=e.coords.latitude,pointlong[count]=e.coords.longitude,accur[count]=e.coords.accuracy,Ti.App.fireEvent("Gvariables",{blahlat:pointlat,blahlong:pointlong,length:count,accuracy:accur});{Ti.App.iOS.scheduleLocalNotification({alertAction:"Re-Launch!",userInfo:{hello:"world"},date:new Date((new Date).getTime())})}count+=1}})):alert("Please enable location services");var timer1=setInterval(checkFeed,599e3);