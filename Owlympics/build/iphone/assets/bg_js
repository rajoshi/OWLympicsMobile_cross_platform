function distance(e,t,a,i){var r=Math.PI*e/180,n=Math.PI*a/180,o=(Math.PI*t/180,Math.PI*i/180,t-i),l=Math.PI*o/180,c=Math.sin(r)*Math.sin(n)+Math.cos(r)*Math.cos(n)*Math.cos(l);return c=Math.acos(c),c=180*c/Math.PI,c=60*c*1.1515,c=1.609344*c*1e3}function checkFeed(){Ti.API.info("hi, I m alive")}var count=0,centerRadius=40,coords=Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,"coords.txt"),enterfile=Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,"enterflag.txt"),stampfile=Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,"stamp.txt"),enterflag,stamp;enterflag=parseFloat(enterfile.read().text.split(",")[0]),stamp=parseFloat(stampfile.read().text.split(",")[0]),Ti.Geolocation.purpose="Smart Reminders";var hour,min;Ti.Geolocation.locationServicesEnabled?(Ti.Geolocation.accuracy=Ti.Geolocation.ACCURACY_HUNDRED_METERS,Ti.Geolocation.distanceFilter=5,Ti.Geolocation.preferredProvider=Ti.Geolocation.PROVIDER_PROVIDER_NETWORK,Ti.Geolocation.addEventListener("location",function(e){if(e.error);else{var t=0;if(t=distance(e.coords.latitude,e.coords.longitude,parseFloat(coords.read().text.split(",")[0]),parseFloat(coords.read().text.split(",")[1])),centerRadius>t)enterflag||(enterflag=1,stamp=e.coords.timestamp);else if(enterflag){var a=new Date;if(enterflag=0,e.coords.timestamp-stamp>1e3)if(hour=Math.floor((e.coords.timestamp-stamp)/36e5),min=Math.floor((e.coords.timestamp-stamp)/6e4)-6e4*hour,hour>1){Ti.App.iOS.scheduleLocalNotification({alertBody:a.getHours()+":"+a.getMinutes()+"|Report your activities?",alertAction:"Re-Launch!",userInfo:{hello:"world"},sound:"pop.caf",date:new Date((new Date).getTime()),hasAction:!0})}else{Ti.App.iOS.scheduleLocalNotification({alertBody:a.getHours()+":"+a.getMinutes()+"|Report your activities?",alertAction:"Re-Launch!",userInfo:{hello:"world"},sound:"pop.caf",date:new Date((new Date).getTime()),hasAction:!0})}}enterfile.deleteFile(),enterfile.createFile(),stampfile.deleteFile(),stampfile.createFile(),enterfile.write(enterflag+",",!0),stampfile.write(stamp+",",!0)}})):alert("Please enable location services");var timer1=setInterval(checkFeed,599e3);